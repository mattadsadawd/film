<div class="min-h-screen bg-gradient-to-b from-black via-gray-900 to-blue-950 text-white p-8">
  <h1 class="text-5xl font-extrabold text-center mb-12 text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500 drop-shadow-lg">
    üé¨ CineVerse Explorer
  </h1>
  <div class="max-w-4xl mx-auto mb-14 flex flex-col md:flex-row items-center gap-4 bg-gray-800/80 backdrop-blur-lg p-4 rounded-2xl border border-gray-700 shadow-xl">
    <form (submit)="handleSearch($event)" class="flex flex-1 items-center gap-3 w-full">
      <svg class="text-blue-400" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <circle cx="11" cy="11" r="8"></circle>
        <path d="m21 21-4.35-4.35"></path>
      </svg>
      <input
        type="text"
        [(ngModel)]="searchTerm"
        name="searchTerm"
        placeholder="Cerca un film..."
        class="flex-grow bg-transparent border-none text-white placeholder-gray-400 focus:outline-none text-lg"
      />
      <button
        type="submit"
        class="bg-gradient-to-r from-cyan-500 to-blue-600 px-5 py-2 rounded-xl font-semibold hover:scale-105 transition-transform"
      >
        Cerca
      </button>
    </form>
    <select
      [(ngModel)]="genreFilter"
      name="genreFilter"
      class="bg-gray-900 border border-gray-700 rounded-xl px-4 py-2 text-white focus:outline-none hover:border-blue-500 transition"
    >
      <option *ngFor="let genre of allGenres()" [value]="genre">{{ genre }}</option>
    </select>
  </div>

  @if (loading()) {
    <div class="text-center text-gray-400 text-xl animate-pulse">Caricamento film...</div>
  } @else if (error()) {
    <div class="text-center text-red-400 text-lg">{{ error() }}</div>
  } @else {
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-8">
      @for (movie of filteredMovies(); track movie.imdbID || $index) {
        <div class="relative bg-gray-900/70 border border-gray-700 rounded-2xl shadow-xl overflow-hidden cursor-pointer group hover:scale-105 transition-transform">
          <img
            [src]="movie.Poster !== 'N/A' ? movie.Poster : 'https://via.placeholder.com/300x450?text=No+Poster'"
            [alt]="movie.Title"
            class="w-full object-contain group-hover:opacity-60 transition duration-300"
          />
          <div class="absolute inset-0 bg-black/90 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-between p-4">
            <div>
              <h2 class="text-xl font-bold text-cyan-400 mb-1">{{ movie.Title }}</h2>
              <p class="text-sm text-gray-300 mb-2">{{ movie.Year }} ‚Ä¢ {{ movie.Genre }}</p>
              @if (movie.Runtime) {
                <p class="text-gray-400">üïí Durata: {{ movie.Runtime }}</p>
              }
              @if (movie.Released) {
                <p class="text-gray-400">üìÖ Uscita: {{ movie.Released }}</p>
              }
              @if (movie.imdbRating) {
                <p class="text-yellow-400">‚≠ê IMDb: {{ movie.imdbRating }}/10</p>
              }
              @if (movie.Director) {
                <p class="text-gray-400">üé¨ Regista: {{ movie.Director }}</p>
              }
              @if (movie.Actors) {
                <p class="text-gray-400">üé≠ Attori: {{ movie.Actors }}</p>
              }
            </div>
            @if (movie.Plot) {
              <p class="text-sm text-gray-300 italic line-clamp-4">"{{ movie.Plot }}"</p>
            }
          </div>
        </div>
      }
    </div>
  }
  <button *ngIf="showScrollTop()" (click)="scrollToTop()"
    class="fixed bottom-6 right-6 bg-cyan-500 hover:bg-cyan-600 text-white p-3 rounded-full shadow-lg z-50 transition-transform hover:scale-105"
    aria-label="Torna su">
    ‚Üë
  </button>

  <button (click)="goHome()"
    class="fixed bottom-6 left-6 bg-white/10 hover:bg-white/20 text-white p-3 rounded-full shadow-lg z-50 transition-transform hover:scale-105"
    aria-label="Torna alla home" title="Torna alla home">
    üè†
  </button>

</div>
